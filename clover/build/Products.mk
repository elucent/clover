# Sources

CLOVER_SRC_ROOT := $(CLOVER_PATH)

CLOVER_CXX_HEADERS := $(wildcard $(CLOVER_SRC_ROOT)/*.h)
CLOVER_CXX_SOURCES := $(wildcard $(CLOVER_SRC_ROOT)/*.cpp)

CLOVER_DEBUG_OBJS := $(CLOVER_CXX_SOURCES:%.cpp=$(DEBUG_BUILD)/%.o)
CLOVER_RELEASE_OBJS := $(CLOVER_CXX_SOURCES:%.cpp=$(RELEASE_BUILD)/%.o)
CLOVER_DEBUG_HEADERS := $(CLOVER_CXX_HEADERS:%.h=$(DEBUG_BUILD)/include/%.h)
CLOVER_RELEASE_HEADERS := $(CLOVER_CXX_HEADERS:%.h=$(RELEASE_BUILD)/include/%.h)
CLOVER_DEBUG_DEPFILES := $(CLOVER_CXX_SOURCES:%.cpp=$(DEBUG_BUILD)/%.d)
CLOVER_RELEASE_DEPFILES := $(CLOVER_CXX_SOURCES:%.cpp=$(RELEASE_BUILD)/%.d)

CLOVER_CLRT_CXX_SOURCES := $(wildcard $(CLOVER_SRC_ROOT)/clrt/*.cpp)
CLOVER_CLRT_DEBUG_OBJS := $(CLOVER_CLRT_CXX_SOURCES:%.cpp=$(DEBUG_BUILD)/%.o)
CLOVER_CLRT_RELEASE_OBJS := $(CLOVER_CLRT_CXX_SOURCES:%.cpp=$(RELEASE_BUILD)/%.o)

CLOVER_DEBUG_OBJS += $(CLOVER_CLRT_DEBUG_OBJS)
CLOVER_RELEASE_OBJS += $(CLOVER_CLRT_RELEASE_OBJS)

CLOVER_CLI_CXX_HEADERS := $(wildcard $(CLOVER_SRC_ROOT)/cli/*.h)
CLOVER_CLI_CXX_SOURCES := $(wildcard $(CLOVER_SRC_ROOT)/cli/*.cpp)
CLOVER_CLI_DEBUG_OBJS := $(CLOVER_CLI_CXX_SOURCES:%.cpp=$(DEBUG_BUILD)/%.o)
CLOVER_CLI_RELEASE_OBJS := $(CLOVER_CLI_CXX_SOURCES:%.cpp=$(RELEASE_BUILD)/%.o)

CLOVER_TEST_SOURCES := $(wildcard $(CLOVER_SRC_ROOT)/test/unit/*.cpp)
CLOVER_TEST_DEBUG_OBJS := $(CLOVER_TEST_SOURCES:%.cpp=$(DEBUG_BUILD)/%.o)
CLOVER_TEST_RELEASE_OBJS := $(CLOVER_TEST_SOURCES:%.cpp=$(RELEASE_BUILD)/%.o)

CLOVER_DIRS_DEBUG := \
	$(DEBUG_BUILD)/$(CLOVER_PATH)/test/unit \
	$(DEBUG_BUILD)/$(CLOVER_PATH)/cli \
	$(DEBUG_BUILD)/$(CLOVER_PATH)/clrt \
	$(DEBUG_BUILD)/include/$(CLOVER_PATH)
CLOVER_DIRS_RELEASE := \
	$(RELEASE_BUILD)/$(CLOVER_PATH)/test/unit \
	$(RELEASE_BUILD)/$(CLOVER_PATH)/cli \
	$(RELEASE_BUILD)/$(CLOVER_PATH)/clrt \
	$(RELEASE_BUILD)/include/$(CLOVER_PATH)

$(DEBUG_BUILD)/include/%.h: %.h
	cp $< $@

$(RELEASE_BUILD)/include/%.h: %.h
	cp $< $@
